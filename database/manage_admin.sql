-- 管理員帳號管理 SQL 腳本
-- SQL Server 版本

-- ================================================
-- 1. 查看所有使用者
-- ================================================
SELECT 
    user_id,
    line_id,
    nickname,
    rating,
    CASE WHEN is_admin = 1 THEN '✓ 是' ELSE '✗ 否' END AS 管理員,
    created_at AS 建立時間
FROM Users
ORDER BY created_at DESC;

-- ================================================
-- 2. 設置管理員（方法 A：透過 User ID）
-- ================================================
-- 將 USER_ID 替換成實際的使用者 ID
-- UPDATE Users 
-- SET is_admin = 1 
-- WHERE user_id = 1;  -- 替換成實際的 user_id

-- ================================================
-- 3. 設置管理員（方法 B：透過 LINE ID）
-- ================================================
-- 將 YOUR_LINE_ID 替換成實際的 LINE ID
-- UPDATE Users 
-- SET is_admin = 1 
-- WHERE line_id = 'YOUR_LINE_ID';  -- 替換成實際的 line_id

-- ================================================
-- 4. 設置管理員（方法 C：透過暱稱）
-- ================================================
-- 將 YOUR_NICKNAME 替換成實際的暱稱
-- UPDATE Users 
-- SET is_admin = 1 
-- WHERE nickname = 'YOUR_NICKNAME';  -- 替換成實際的暱稱

-- ================================================
-- 5. 移除管理員權限
-- ================================================
-- UPDATE Users 
-- SET is_admin = 0 
-- WHERE user_id = 1;  -- 替換成實際的 user_id

-- ================================================
-- 6. 查看所有管理員
-- ================================================
SELECT 
    user_id,
    line_id,
    nickname,
    rating,
    created_at AS 建立時間
FROM Users
WHERE is_admin = 1
ORDER BY created_at;

-- ================================================
-- 7. 設置第一個註冊的使用者為管理員
-- ================================================
-- UPDATE Users 
-- SET is_admin = 1 
-- WHERE user_id = (SELECT TOP 1 user_id FROM Users ORDER BY created_at);

-- ================================================
-- 8. 批次設置多個管理員
-- ================================================
-- UPDATE Users 
-- SET is_admin = 1 
-- WHERE user_id IN (1, 2, 3);  -- 替換成實際的 user_id 列表

-- ================================================
-- 使用說明：
-- ================================================
-- 1. 先執行「查看所有使用者」，找到你要設置為管理員的使用者
-- 2. 記下該使用者的 user_id 或 line_id
-- 3. 解除註解（移除 --）並執行對應的 UPDATE 語句
-- 4. 替換 placeholder 值為實際的 ID
-- 5. 執行「查看所有管理員」確認設置成功
